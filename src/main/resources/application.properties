# AWS Athena Configuration
# ========================
# Replace these placeholder values with your actual AWS credentials and configuration

# AWS Region (e.g., us-east-1, us-west-2, eu-west-1)
aws.region=${AWS_REGION:us-east-1}

# AWS Credentials
# IMPORTANT: For production, use secure credential management (e.g., Anypoint Secrets Manager, Vault)
aws.access.key=${AWS_ACCESS_KEY:YOUR_AWS_ACCESS_KEY}
aws.secret.key=${AWS_SECRET_KEY:YOUR_AWS_SECRET_KEY}

# S3 Staging/Output Location
# Athena requires an S3 bucket to store query results
# Format: s3://bucket-name/path/
aws.s3.output.location=${AWS_S3_OUTPUT_LOCATION:s3://your-athena-results-bucket/results/}

# Athena Workgroup (optional)
# Workgroups provide governance, cost control, and query result location enforcement
# Leave empty to use default workgroup
aws.athena.workgroup=${AWS_ATHENA_WORKGROUP:}

# Database Connection Pool Settings
# Conservative pooling to avoid hitting Athena service quotas (default: 25 concurrent queries)
db.pool.initialSize=1
db.pool.minSize=1
db.pool.maxSize=5
db.pool.idleTimeout=30000
db.pool.maxWait=10000
# Connection timeout - wait time for available connection from pool (in milliseconds)
# Prevents immediate failure during high concurrency bursts
db.pool.connectionTimeout=5000

# Query Timeout (in milliseconds)
# Athena queries can take minutes - set according to your SLA
# Default: 5 minutes (300000 ms)
db.query.timeout=300000

# SSL/TLS Configuration
# Enable SSL for JDBC connections (required for CloudHub 2.0, TLS 1.2+ compliance)
# Set to true for CloudHub 2.0 deployments, false for RTF or local development
db.ssl.enabled=${DB_SSL_ENABLED:false}
# Optional: Path to custom SSL truststore (if not using default JVM truststore)
db.ssl.trustStorePath=${DB_SSL_TRUSTSTORE_PATH:}

# Table Names Configuration
# Use different tables for transactional (Iceberg) vs analytical (Parquet) workloads
athena.table.transactional=${ATHENA_TABLE_TRANSACTIONAL:iceberg_orders}
athena.table.analytical=${ATHENA_TABLE_ANALYTICAL:parquet_sales_log}

# HTTP Listener Configuration
http.port=${HTTP_PORT:8081}
http.host=${HTTP_HOST:0.0.0.0}

# API Configuration
api.base.path=${API_BASE_PATH:/api/athena}

# Retry Configuration
retry.maxRetries=3
retry.millisBetweenRetries=5000

# Pagination Configuration
pagination.defaultLimit=10000
pagination.maxLimit=50000
# Column name used for cursor-based pagination (WHERE id > :lastSeenId pattern)
# Change this if your tables use a different column name for the primary key/ordering column
pagination.idColumn=${PAGINATION_ID_COLUMN:id}
